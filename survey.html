<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Survey - AI Trade Platform</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background-color: #0A0A0A;
      color: #FFFFFF;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      border: 2px solid #00FFC6;
      border-radius: 20px;
      padding: 40px;
      background-color: #0D0D0D;
      box-shadow: 0 0 20px rgba(0, 255, 198, 0.2);
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #00FFC6;
    }
    .question {
      margin-bottom: 25px;
    }
    .question label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }
    input[type="text"],
    input[type="number"],
    select,
    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #00FFC6;
      border-radius: 10px;
      background-color: #0A0A0A;
      color: #FFFFFF;
      margin-top: 5px;
    }
    textarea {
      min-height: 80px;
    }
    .checkbox-group,
    .radio-group {
      margin-top: 10px;
    }
    .checkbox-group label,
    .radio-group label {
      margin-right: 15px;
      font-weight: normal;
    }
    button {
      display: block;
      width: 100%;
      padding: 14px;
      border: 2px solid #00FFC6;
      border-radius: 20px;
      background-color: transparent;
      color: #00FFC6;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 30px;
    }
    button:hover {
      background-color: #00FFC6;
      color: #0A0A0A;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Welcome Survey</h1>
    <!-- The survey now uses JavaScript to process the answers and
         redirect users to a tailored dashboard.  We removed the
         comments field to streamline the onboarding experience. -->
    <form onsubmit="processForm(event)">
      <!-- Trading Experience Question -->
      <div class="question">
        <label>How long have you been trading?</label>
        <div class="radio-group">
          <label><input type="radio" name="experience" value="less_than_1" required> Less than 1 year</label>
          <label><input type="radio" name="experience" value="1_3"> 1-3 years</label>
          <label><input type="radio" name="experience" value="3_5"> 3-5 years</label>
          <label><input type="radio" name="experience" value="5_plus"> 5+ years</label>
        </div>
      </div>

      <!-- Markets Question -->
      <div class="question">
        <label>Which markets do you trade? (select all that apply)</label>
        <div class="checkbox-group">
          <label><input type="checkbox" name="markets" value="stocks"> Stocks</label>
          <label><input type="checkbox" name="markets" value="options"> Options</label>
          <label><input type="checkbox" name="markets" value="cryptocurrency"> Cryptocurrency</label>
          <label><input type="checkbox" name="markets" value="forex"> Forex</label>
          <label><input type="checkbox" name="markets" value="futures"> Futures</label>
        </div>
      </div>

      <!-- Knowledge Question -->
      <div class="question">
        <label>What do you already know? (select all that apply)</label>
        <div class="checkbox-group">
          <label><input type="checkbox" name="knowledge" value="fundamentals"> Fundamentals</label>
          <label><input type="checkbox" name="knowledge" value="technicals"> Technical Analysis</label>
          <label><input type="checkbox" name="knowledge" value="options_trading"> Options Trading</label>
          <label><input type="checkbox" name="knowledge" value="risk_management"> Risk Management</label>
          <label><input type="checkbox" name="knowledge" value="none"> None</label>
        </div>
      </div>

      <!-- Goals Question -->
      <div class="question">
        <label>What are you hoping to gain from this site?</label>
        <div class="checkbox-group">
          <label><input type="checkbox" name="goals" value="signals"> Trading signals</label>
          <label><input type="checkbox" name="goals" value="education"> Educational content</label>
          <label><input type="checkbox" name="goals" value="tools"> Tools & calculators</label>
          <label><input type="checkbox" name="goals" value="community"> Community/support</label>
        </div>
      </div>

      <!-- Frequency Question -->
      <div class="question">
        <label>How often do you plan to trade?</label>
        <select name="frequency" required>
          <option value="daily">Daily</option>
          <option value="weekly">Weekly</option>
          <option value="monthly">Monthly</option>
          <option value="rarely">Rarely</option>
        </select>
      </div>

      <!-- Risk tolerance Question -->
      <div class="question">
        <label>What is your risk tolerance?</label>
        <select name="risk_tolerance" required>
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>

      <button type="submit">Continue</button>
    </form>
    <!-- JavaScript to determine the user's experience level and
         redirect them to the appropriate dashboard based on their
         answers.  Users with extensive experience, high risk
         tolerance or options trading knowledge are considered
         advanced and directed to advanced.html.  Others are routed
         to beginner.html. -->
    <script>
      function processForm(event) {
        event.preventDefault();
        // Get selected trading experience value
        const experienceEl = document.querySelector('input[name="experience"]:checked');
        const experience = experienceEl ? experienceEl.value : '';
        // Get selected knowledge values (array of strings)
        const knowledgeEls = document.querySelectorAll('input[name="knowledge"]:checked');
        const knowledgeValues = Array.from(knowledgeEls).map(el => el.value);
        // Get risk tolerance
        const risk = document.querySelector('select[name="risk_tolerance"]').value;
        // Determine if user is advanced: >5 years, has options trading
        // knowledge, or high risk tolerance.
        let userType = 'beginner';
        if (experience === '5_plus' || knowledgeValues.includes('options_trading') || risk === 'high') {
          userType = 'advanced';
        }
        // Redirect to the appropriate page
        window.location.href = userType + '.html';
      }
    </script>
  </div>
</body>
</html>